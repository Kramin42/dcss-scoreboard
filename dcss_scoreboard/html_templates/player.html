{% extends "base.html" %}
{% block title %}{{ player }}{% endblock %}
{% block heading %}Statistics for {{ player }}{% endblock %}
{% block content %}
<div class="row">
  <div class="col-sm-4">
    <h3>Overall Statistics</h3>
    <p><strong>Games Played:</strong> {{ stats['games'] }}</p>
    <p><strong>Wins:</strong> {{ stats['wins']|length }} ({{ (stats['winrate'] * 100)|round(2) }}%)</p>
    <p><strong>Best Score:</strong> {{ stats['highscore']['sc']|prettyint }}</p>
    {% if stats['wins']|length > 0 %}
    <p><strong>Fastest Win:</strong> {{ stats['fastest_realtime']['dur']|prettydur }}</p>
    <p><strong>Shortest Win:</strong> {{ stats['fastest_turncount']['turn']|prettyint }} turns</p>
    {% endif %}
  </div>
  <div class="col-sm-4">
    <h3>Wins</h3>
    <p><strong>Races Won:</strong> {{ stats['race_wins']|prettycounter }}</p>
    <p><strong>Backgrounds Won:</strong> {{ stats['role_wins']|prettycounter }}</p>
    <p><strong>Gods Won:</strong> {{ stats['god_wins']|prettycounter }}</p>
  </div>
  <div class="col-sm-4">
    <h3>Achievements</h3>
    {% for achievement in stats['achievements'] %}
    {{ achievement }}
    {% endfor %}
  </div>
</div>
<div class="row">
  <div class="col-sm-12">
    <h3>Recent Games</h3>
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Score</th>
          <th>Character</th>
          <th>Place</th>
          <th>End</th>
          <th>XL</th>
          <th>Turns</th>
          <th>Duration</th>
          <th>Runes</th>
          <th>Date</th>
          <th>Version</th>
        </tr>
      </thead>
      <tbody>
        {% for game in stats['last_5_games'] %}
        {{ game|gametotablerow }}
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
